/**
 *
 * @descripion: Interface qu gerencia o cookie em alto, provê uma camada de abstração
 * , para melhor manutenção da biblioteca e usabilidade.
 */
#ifndef COOKIE_MANAGER_H
#define COOKIE_MANAGER_H

#ifdef __cplusplus
extern "C" {
#endif

////////////////////////////////////////////////////////////////////////////////
// Includes
////////////////////////////////////////////////////////////////////////////////
#include <stdio.h>
#include <stdlib.h>
#include <math.h>
#include <string.h>
#include <stdbool.h>
#include <ctype.h>

#include <headers/abstractFactoryCommon.h>
#include <headers/fileUtil.h>

#include <headers/cookie_strMap.h> // função utilizada para implementar os cookies

////////////////////////////////////////////////////////////////////////////////
// Defines
////////////////////////////////////////////////////////////////////////////////



////////////////////////////////////////////////////////////////////////////////
// Structs
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Enum
////////////////////////////////////////////////////////////////////////////////


////////////////////////////////////////////////////////////////////////////////
// Typedefs
////////////////////////////////////////////////////////////////////////////////


////////////////////////////////////////////////////////////////////////////////
// Constructs
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Functions
////////////////////////////////////////////////////////////////////////////////
bool CWeb_Cookie_Init();

char *CWeb_Cookie_Get(const char *key);

/**
 * Retorna uma string com a montagem do cookie corretamente, já para ser impersso
 * na saída.
 * @arg value: não precisa ser encode, ele será codificado pela própria função.
 * @arg cookie: string em que será armazenado o cookie.
 * Caso o tamanho da string seja insuficiente, será realocado o tamanho para caber
 * a string
 */
char *CWeb_Cookie_Set(const char *key, const char *value,
                      const long int expires_sec,
                      const char *domain, const char *path,
                      const bool isSecure, const bool isHttpOnly,
                      char *cookie);
////////////////////////////////////////////////////////////////////////////////
// Interface
////////////////////////////////////////////////////////////////////////////////


////////////////////////////////////////////////////////////////////////////////
// Functions - private - to debug
////////////////////////////////////////////////////////////////////////////////

#ifdef __cplusplus
}
#endif
#endif // COOKIE_MANAGER_H

////////////////////////////////////////////////////////////////////////////////
//
////////////////////////////////////////////////////////////////////////////////





